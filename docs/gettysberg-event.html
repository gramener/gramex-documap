<link rel="stylesheet" href="gettysberg.css" />
<pre id="data"></pre>
<div id="documap"></div>

<script type="module">
  import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";
  import { documap } from "../dist/documap.js";
  // Load the data
  const { docs, topics, docTopicMap } = await fetch("gettysberg.json").then((r) => r.json());
  // Render the documap
  documap(d3.select("#documap"), {
    docs,
    topics,
    docTopicMap,
    docWidth: (d) => d.length,
    topicLabel: (d) => d.name,
  });
  document.querySelector("#documap").addEventListener("update", (e) => {
    e.target.style.fontStyle = 'italic';
    document.querySelector("#data").textContent = `Last clicked: ${e.detail.topic.name}`;
  })
</script>
